{"version":3,"sources":["file:///Users/pkusiak/Private/allvpv_org/themes/shibui/assets/js/main.js"],"sourcesContent":["// These should be inlined\nconst themeAttribute = \"data-theme\";\nconst darkThemeName = \"dark\";\nconst normalThemeName = \"light\";\n\n// Get the initial state\nconst darkModePreferredQuery = window.matchMedia(\"(prefers-color-scheme: dark)\");\nconst currentTheme = localStorage.getItem(themeAttribute) || (darkModePreferredQuery.matches ? darkThemeName : normalThemeName);\ndocument.documentElement.setAttribute(themeAttribute, currentTheme);\n\nwindow.addEventListener(\"load\", function () {\n  const toggleSwitches = document.querySelectorAll(\".theme-toggle\");\n\n  // Helpers\n  const updateCheckboxState = (isChecked) =\u003e { // Because there may be multiple toggles on the same page\n    toggleSwitches.forEach(t =\u003e {\n      t.checked = isChecked;\n    });\n  };\n  const changeTheme = (isDark) =\u003e {\n    const newTheme = isDark ? darkThemeName : normalThemeName;\n    document.documentElement.setAttribute(themeAttribute, newTheme);\n    localStorage.setItem(themeAttribute, newTheme);\n\n    updateCheckboxState(isDark);\n  };\n\n  updateCheckboxState(currentTheme === darkThemeName); // The initial state\n\n  // Update when toggle button is changed\n  toggleSwitches.forEach(t =\u003e {\n    t.addEventListener(\"change\", e =\u003e {\n      changeTheme(e.target.checked);\n    });\n  });\n\n  // Update when browser theme is changed\n  if (darkModePreferredQuery.addEventListener) {\n    darkModePreferredQuery.addEventListener(\"change\", event =\u003e {\n      changeTheme(event.matches);\n    })\n  }\n});\n"],"mappings":";;AACA,MAAM,iBAAiB;AACvB,MAAM,gBAAgB;AACtB,MAAM,kBAAkB;AAGxB,MAAM,yBAAyB,OAAO,WAAW,8BAA8B;AAC/E,MAAM,eAAe,aAAa,QAAQ,cAAc,MAAM,uBAAuB,UAAU,gBAAgB;AAC/G,WAAS,gBAAgB,aAAa,gBAAgB,YAAY;AAElE,SAAO,iBAAiB,QAAQ,WAAY;AAC1C,UAAM,iBAAiB,SAAS,iBAAiB,eAAe;AAGhE,UAAM,sBAAsB,CAAC,cAAc;AACzC,qBAAe,QAAQ,OAAK;AAC1B,UAAE,UAAU;AAAA,MACd,CAAC;AAAA,IACH;AACA,UAAM,cAAc,CAAC,WAAW;AAC9B,YAAM,WAAW,SAAS,gBAAgB;AAC1C,eAAS,gBAAgB,aAAa,gBAAgB,QAAQ;AAC9D,mBAAa,QAAQ,gBAAgB,QAAQ;AAE7C,0BAAoB,MAAM;AAAA,IAC5B;AAEA,wBAAoB,iBAAiB,aAAa;AAGlD,mBAAe,QAAQ,OAAK;AAC1B,QAAE,iBAAiB,UAAU,OAAK;AAChC,oBAAY,EAAE,OAAO,OAAO;AAAA,MAC9B,CAAC;AAAA,IACH,CAAC;AAGD,QAAI,uBAAuB,kBAAkB;AAC3C,6BAAuB,iBAAiB,UAAU,WAAS;AACzD,oBAAY,MAAM,OAAO;AAAA,MAC3B,CAAC;AAAA,IACH;AAAA,EACF,CAAC;","names":[]}